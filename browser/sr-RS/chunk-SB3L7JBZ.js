import{A,B as Ce,C as I,D as pe,E as Se,F as de,G as ue,H as ge,I as Te,J as Pe,K as Ee,L as Le,M as fe,N as Me,O as Ne,P as Ae,Q as Ie,R as he,S as be,T as xe,da as we,i as ne,j as oe,ka as Oe,la as ye,ma as Re,n as le,na as $e,q as ae,r as _e,s as re,u as se,v as ce,z as me}from"./chunk-PTYWA22Q.js";import"./chunk-HW6RE37E.js";import"./chunk-BC2OAFMA.js";import{C as Z,d as U,o as K,v as q,z as J}from"./chunk-HDZ7RHYU.js";import{f as W,k as Y}from"./chunk-25VDOFRO.js";import"./chunk-EA5Y5PYU.js";import{a as ee,b as te,c as ie}from"./chunk-LIFEMK2A.js";import"./chunk-UKSWDLTM.js";import"./chunk-4U4BN4RS.js";import"./chunk-L5RXOLJO.js";import"./chunk-JURCKSUK.js";import{$b as M,Ac as H,Bb as m,Bc as Q,Mb as S,Rb as T,Tb as z,Ub as B,Uc as j,Vb as l,Wb as _,Xb as P,Yb as h,Zb as b,dc as E,e as F,ec as X,fc as V,hc as g,ic as r,kb as s,ma as p,nc as x,oc as w,pc as O,sc as y,tc as c,uc as R,va as d,vc as N,wa as u,wb as G}from"./chunk-BLHYBFZJ.js";var ve=()=>[5,10,25,100],De=(t,a)=>a.key;function ke(t,a){if(t&1&&(l(0,"mat-header-cell",21),c(1),_()),t&2){let e=r(2).$implicit;s(),N(" ",e.label,"");}}function Fe(t,a){if(t&1&&(l(0,"span",23),c(1),_(),l(2,"span",24),c(3),_()),t&2){let e=r().$implicit;s(),R(e.name),s(2),R(e.email);}}function Ge(t,a){if(t&1&&c(0),t&2){let e=r().$implicit;N(" ",e.name," ");}}function ze(t,a){if(t&1&&(l(0,"mat-cell",20),m(1,Fe,4,2)(2,Ge,1,1),_()),t&2){let e,i=r(4);s(),T((e=i.screenSize())!=null&&e.isCompact?1:2);}}function Be(t,a){t&1&&m(0,ze,3,1,"mat-cell",22);}function Xe(t,a){if(t&1&&(l(0,"mat-cell"),c(1),_()),t&2){let e=a.$implicit,i=r(3).$implicit;s(),N(" ",e[i.key]," ");}}function Ve(t,a){t&1&&m(0,Xe,2,1,"mat-cell",25);}function He(t,a){if(t&1&&(h(0,17),m(1,ke,2,1,"mat-header-cell",19)(2,Be,1,0,"mat-cell",20)(3,Ve,1,0,"mat-cell"),b()),t&2){let e,i=r().$implicit,n=r();S("matColumnDef",i.key),s(2),T((e=n.screenSize())!=null&&e.isCompact?2:3);}}function Qe(t,a){t&1&&P(0,"mat-header-cell");}function je(t,a){if(t&1){let e=M();l(0,"div")(1,"button",29),g("click",function(){d(e);let n=r().$implicit,o=r(3);return u(o.openEditClientDialog(n.id,n.name));}),l(2,"mat-icon"),c(3,"edit"),_()(),l(4,"button",30),g("click",function(){d(e);let n=r().$implicit,o=r(3);return u(o.openDeleteConfirmationDialog(n.id));}),l(5,"mat-icon"),c(6,"delete_outline"),_()()();}}function Ue(t,a){if(t&1){let e=M();l(0,"button",31)(1,"mat-icon"),c(2,"more_vert"),_()(),l(3,"mat-menu",null,1)(5,"button",32),g("click",function(){d(e);let n=r().$implicit,o=r(3);return u(o.openEditClientDialog(n.id,n.name));}),l(6,"mat-icon"),c(7,"edit"),_(),l(8,"span"),E(9,3),_()(),l(10,"button",33),g("click",function(){d(e);let n=r().$implicit,o=r(3);return u(o.openDeleteConfirmationDialog(n.id));}),l(11,"mat-icon"),c(12,"delete_outline"),_(),l(13,"span"),E(14,4),_()()();}if(t&2){let e=y(4);S("matMenuTriggerFor",e);}}function Ke(t,a){if(t&1&&(l(0,"mat-cell",28),m(1,je,7,0,"div")(2,Ue,15,1),_()),t&2){let e,i=r(3);s(),T((e=i.screenSize())!=null&&e.isCompact?2:1);}}function qe(t,a){t&1&&(h(0,18),m(1,Qe,1,0,"mat-header-cell",26)(2,Ke,3,1,"mat-cell",27),b());}function Je(t,a){if(t&1&&m(0,He,4,2,"ng-container",17)(1,qe,3,0,"ng-container",18),t&2){let e=a.$implicit;T(e.key!=="options"?0:1);}}function We(t,a){t&1&&P(0,"mat-header-row");}function Ye(t,a){t&1&&P(0,"mat-row",34);}function Ze(t,a){if(t&1&&(l(0,"mat-row",35)(1,"td",36),E(2,5),_()()),t&2){r();let e=y(6);s(2),X(e.value),V(2);}}function et(t,a){t&1&&P(0,"mat-paginator",16),t&2&&S("pageSizeOptions",Q(1,ve));}var wt=(()=>{class t{constructor(){this.pageType="client",this.clientsService=p(ne),this._snackBar=p(Z),this.dialog=p(le),this.router=p(U),this.ActivePageService=p(re),this.screenSizeService=p(se),this.screenSize=this.screenSizeService.screenSize,this.pageTitle=this.ActivePageService.pageTitle,this.columnName=" Ime ",this.columnEmail=" E-po\u0161ta ",this.columnPhone=" Telefon ",this.displayedColumns=[{key:"name",label:this.columnName},{key:"email",label:this.columnEmail},{key:"phone",label:this.columnPhone},{key:"options",label:""}],this.columnKeys=j(()=>this.screenSize()?.isCompact?this.displayedColumns.filter(e=>e.key!=="phone"&&e.key!=="email").map(e=>e.key):this.displayedColumns.map(e=>e.key)),this.dataSource=new he(),this.clients=[],this.subscriptions=new F(),this.shareClientsDataService=p(oe),this.clientInfo=this.shareClientsDataService.clientInfo,this.themeManager=p(ae),this.themeSignal=this.themeManager.themeSignal,console.log(this.screenSize()?.isCompact),this.getClients();}ngOnInit(){this.pageTitle.set("Pacijenti"),this.clientInfo.set({clientId:"",clientName:"",programPosition:0,programId:"",programName:"",dateRange:{start:"",end:""}});}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;}createClient(){this.router.navigateByUrl("/clients/form");}getClients(){let e=this.clientsService.getClientsBasic().subscribe(i=>{this.clients=i,this.dataSource.data=this.clients,console.log(this.dataSource.data);});this.subscriptions.add(e);}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage();}openEditClientDialog(e,i){this.clientInfo.set({clientId:e,clientName:i,programPosition:0,programId:"",programName:"",dateRange:{start:"",end:""}}),this.router.navigateByUrl(`clients/form/${e}`);}openDeleteConfirmationDialog(e){let i=this.dialog.open(we,{width:"312px",data:{title:"Izbri\u0161i izabranog pacijenta?",message:"Brisanje izabranog pacijenta \u0107e ga ukloniti sa va\u0161eg naloga."},panelClass:"custom-dialog"}),n=i.afterClosed().subscribe(o=>{o?(console.log("User confirmed deletion"),this.deleteClient(e),i.close()):(console.log("User canceled deletion"),i.close());});this.subscriptions.add(n);}deleteClient(e){let i=this.clientsService.deleteClient(e).subscribe({next:()=>{this.getClients(),this._snackBar.open("Pacijent izbrisan","",{duration:2e3,panelClass:["custom-snackbar-style"]});},error:n=>console.error(n),complete:()=>console.info("Client deletion completed")});this.subscriptions.add(i);}ngOnDestroy(){this.subscriptions.unsubscribe();}static{this.ɵfac=function(i){return new(i||t)();};}static{this.ɵcmp=G({type:t,selectors:[["sanareapp-clients-list"]],viewQuery:function(i,n){if(i&1&&(x(I,5),x(A,5)),i&2){let o;w(o=O())&&(n.sort=o.first),w(o=O())&&(n.paginator=o.first);}},features:[H([{provide:me,useClass:_e}])],decls:16,vars:8,consts:()=>{let e;e="Npr. Petar Petrovi\u0107";let i;i="Izaberite stranicu pacijenata";let n;n="Filter";let o;o="Uredi";let L;L="Dugme za ure\u0111ivanje";let f;f="Izbri\u0161i";let $;$="Dugme za brisanje";let v;v="Uredi";let D;D="Izbri\u0161i";let k;return k=" Nema podataka koji odgovaraju filteru \""+"\uFFFD0\uFFFD"+"\" ",[["input",""],["menu","matMenu"],n,v,D,k,[3,"newEvent","pageTitle","pageType","newButton"],[1,"table-wrapper"],["appearance","fill",1,"rounded-filter-input"],["matInput","","placeholder",e,3,"keyup"],[1,"clients-table-container"],["overlay-scrollbars","",1,"clients-list-table","table-scroll-container",3,"options","defer"],["matSort","",1,"mat-table-background",3,"dataSource"],[4,"matHeaderRowDef"],["class","table-rows",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","10","aria-label",i,1,"mat-paginator-background",3,"pageSizeOptions"],[3,"matColumnDef"],["matColumnDef","options"],["mat-sort-header","",4,"matHeaderCellDef"],[1,"dynamic-cell"],["mat-sort-header",""],["class","dynamic-cell",4,"matCellDef"],[1,"mat-body-large"],[1,"mat-body-medium-secondary"],[4,"matCellDef"],[4,"matHeaderCellDef"],["class","client-options",4,"matCellDef"],[1,"client-options"],["mat-icon-button","","matTooltip",o,"aria-label",L,3,"click"],["mat-icon-button","","matTooltip",f,"aria-label",$,3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",2,"min-width","200px",3,"click"],["mat-menu-item","",3,"click"],[1,"table-rows"],[1,"mat-row"],["colspan","4",1,"mat-cell"]];},template:function(i,n){if(i&1){let o=M();l(0,"ui-page-toolbar",6),g("newEvent",function(){return d(o),u(n.createClient());}),_(),l(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),E(4,2),_(),l(5,"input",9,0),g("keyup",function(f){return d(o),u(n.applyFilter(f));}),_()(),l(7,"div",10)(8,"div",11)(9,"mat-table",12),z(10,Je,2,1,null,null,De),m(12,We,1,0,"mat-header-row",13)(13,Ye,1,0,"mat-row",14)(14,Ze,3,1,"mat-row",15),_()(),m(15,et,1,2,"mat-paginator",16),_()();}if(i&2){let o;S("pageTitle",n.pageTitle())("pageType",n.pageType)("newButton",!0),s(8),S("options",n.themeSignal()),s(),S("dataSource",n.dataSource),s(),B(n.displayedColumns),s(2),S("matHeaderRowDef",n.columnKeys()),s(),S("matRowDefColumns",n.columnKeys()),s(2),T((o=n.screenSize())!=null&&o.isCompact?-1:15);}},dependencies:[ce,q,K,J,xe,be,Ie,de,ge,Le,Te,ue,fe,Pe,Ee,Me,Ne,Ae,Se,I,pe,te,ee,ie,Y,W,Ce,A,$e,ye,Oe,Re],styles:['.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 234px);overflow-y:hidden}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .client-options[_ngcontent-%COMP%]{justify-content:end}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 290px);overflow-y:scroll}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{height:48px}@media (max-width: 599px){.table-wrapper[_ngcontent-%COMP%]{padding:16px;height:100%}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]{margin-top:-8px;height:calc(100vh - 228px)}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 228px);padding-bottom:84px}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{height:auto}}.dynamic-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:8px}.programs-table-skeleton[_ngcontent-%COMP%]{width:100%;height:440px;overflow:hidden}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:14px;height:48px;border-bottom-width:1px;border-bottom-style:solid}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:16px;min-width:193px;height:30px;overflow:hidden;position:relative;width:100%}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 1s infinite;content:""}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]:last-of-type{border-bottom:0}']});}}return t;})();export{wt as ClientsListComponent};/**i18n:e33dda9241aa0d3f81605574177eca303a560132442e585b3107f4f1b4a47a86*/