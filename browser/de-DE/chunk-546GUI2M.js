import{A as N,B as pe,C as A,D as de,E as Se,F as ue,G as ge,H as Te,I as Pe,J as Ee,K as fe,L as Le,M as Me,N as he,O as Ne,P as Ae,Q as be,R as Ie,S as xe,T as we,aa as Oe,ba as ye,c as ne,da as Re,i as oe,j as le,la as ve,ma as De,n as ae,na as $e,oa as Fe,q as _e,r as re,s as se,u as ce,v as me,z as Ce}from"./chunk-FZMRAGOW.js";import"./chunk-RSMIBKOY.js";import{C as Z,d as U,o as K,v as q,z as J}from"./chunk-WJHGPIFU.js";import"./chunk-RMMHKIN7.js";import"./chunk-CKH53T4H.js";import{f as W,k as Y}from"./chunk-KZKNA7SH.js";import{a as ee,b as te,c as ie}from"./chunk-KIGNZCJX.js";import"./chunk-SPKIK5QY.js";import{$b as M,Bb as c,Dc as H,Ec as Q,Mb as d,Rb as g,Tb as z,Ub as B,Vb as o,Wb as _,Xb as P,Xc as j,Yb as b,Zb as I,dc as E,e as k,ec as X,fc as V,hc as T,ic as r,kb as s,ma as C,nc as x,oc as w,pc as O,sc as y,tc as m,uc as R,va as S,vc as h,wa as u,wb as G}from"./chunk-RFHWMCR2.js";var ke=()=>[5,10,25,100],Ge=(t,l)=>l.key;function ze(t,l){t&1&&(o(0,"div",12),P(1,"mat-spinner",15),_());}function Be(t,l){if(t&1&&(o(0,"mat-header-cell",23),m(1),_()),t&2){let e=r(2).$implicit;s(),h(" ",e.label,"");}}function Xe(t,l){if(t&1&&(o(0,"span",25),m(1),_(),o(2,"span",26),m(3),_()),t&2){let e=r().$implicit;s(),R(e.name),s(2),R(e.email);}}function Ve(t,l){if(t&1&&m(0),t&2){let e=r().$implicit;h(" ",e.name," ");}}function He(t,l){if(t&1&&(o(0,"mat-cell",22),c(1,Xe,4,2)(2,Ve,1,1),_()),t&2){let e,i=r(5);s(),g((e=i.screenSize())!=null&&e.isCompact?1:2);}}function Qe(t,l){t&1&&c(0,He,3,1,"mat-cell",24);}function je(t,l){if(t&1&&(o(0,"mat-cell"),m(1),_()),t&2){let e=l.$implicit,i=r(3).$implicit;s(),h(" ",e[i.key]," ");}}function Ue(t,l){t&1&&c(0,je,2,1,"mat-cell",27);}function Ke(t,l){if(t&1&&(b(0,19),c(1,Be,2,1,"mat-header-cell",21)(2,Qe,1,0,"mat-cell",22)(3,Ue,1,0,"mat-cell"),I()),t&2){let e,i=r().$implicit,n=r(2);d("matColumnDef",i.key),s(2),g((e=n.screenSize())!=null&&e.isCompact?2:3);}}function qe(t,l){t&1&&P(0,"mat-header-cell");}function Je(t,l){if(t&1){let e=M();o(0,"div")(1,"button",31),T("click",function(){S(e);let n=r().$implicit,a=r(4);return u(a.openEditClientDialog(n.id,n.name));}),o(2,"mat-icon"),m(3,"edit"),_()(),o(4,"button",32),T("click",function(){S(e);let n=r().$implicit,a=r(4);return u(a.openDeleteConfirmationDialog(n.id));}),o(5,"mat-icon"),m(6,"delete_outline"),_()()();}}function We(t,l){if(t&1){let e=M();o(0,"button",33)(1,"mat-icon"),m(2,"more_vert"),_()(),o(3,"mat-menu",null,1)(5,"button",34),T("click",function(){S(e);let n=r().$implicit,a=r(4);return u(a.openEditClientDialog(n.id,n.name));}),o(6,"mat-icon"),m(7,"edit"),_(),o(8,"span"),E(9,3),_()(),o(10,"button",35),T("click",function(){S(e);let n=r().$implicit,a=r(4);return u(a.openDeleteConfirmationDialog(n.id));}),o(11,"mat-icon"),m(12,"delete_outline"),_(),o(13,"span"),E(14,4),_()()();}if(t&2){let e=y(4);d("matMenuTriggerFor",e);}}function Ye(t,l){if(t&1&&(o(0,"mat-cell",30),c(1,Je,7,0,"div")(2,We,15,1),_()),t&2){let e,i=r(4);s(),g((e=i.screenSize())!=null&&e.isCompact?2:1);}}function Ze(t,l){t&1&&(b(0,20),c(1,qe,1,0,"mat-header-cell",28)(2,Ye,3,1,"mat-cell",29),I());}function et(t,l){if(t&1&&c(0,Ke,4,2,"ng-container",19)(1,Ze,3,0,"ng-container",20),t&2){let e=l.$implicit;g(e.key!=="options"?0:1);}}function tt(t,l){t&1&&P(0,"mat-header-row");}function it(t,l){t&1&&P(0,"mat-row",36);}function nt(t,l){if(t&1&&(o(0,"mat-row",37)(1,"td",38),E(2,5),_()()),t&2){r(2);let e=y(6);s(2),X(e.value),V(2);}}function ot(t,l){if(t&1&&(o(0,"mat-table",13),z(1,et,2,1,null,null,Ge),c(3,tt,1,0,"mat-header-row",16)(4,it,1,0,"mat-row",17)(5,nt,3,1,"mat-row",18),_()),t&2){let e=r();d("dataSource",e.dataSource),s(),B(e.displayedColumns),s(2),d("matHeaderRowDef",e.columnKeys()),s(),d("matRowDefColumns",e.columnKeys());}}function lt(t,l){t&1&&P(0,"mat-paginator",14),t&2&&d("pageSizeOptions",Q(1,ke));}var Ft=(()=>{class t{constructor(){this.pageType="client",this.clientsService=C(oe),this._snackBar=C(Z),this.dialog=C(ae),this.router=C(U),this.shareStateService=C(ne),this.ActivePageService=C(se),this.screenSizeService=C(ce),this.isFetchingData=this.shareStateService.isFetchingData,this.screenSize=this.screenSizeService.screenSize,this.pageTitle=this.ActivePageService.pageTitle,this.columnName=" Name ",this.columnEmail="E-Mail",this.columnPhone=" Telefon ",this.displayedColumns=[{key:"name",label:this.columnName},{key:"email",label:this.columnEmail},{key:"phone",label:this.columnPhone},{key:"options",label:""}],this.columnKeys=j(()=>this.screenSize()?.isCompact?this.displayedColumns.filter(e=>e.key!=="phone"&&e.key!=="email").map(e=>e.key):this.displayedColumns.map(e=>e.key)),this.dataSource=new Ie(),this.clients=[],this.subscriptions=new k(),this.shareClientsDataService=C(le),this.clientInfo=this.shareClientsDataService.clientInfo,this.themeManager=C(_e),this.themeSignal=this.themeManager.themeSignal,console.log(this.screenSize()?.isCompact),this.getClients();}ngOnInit(){this.pageTitle.set("Patienten"),this.clientInfo.set({clientId:"",clientName:"",programPosition:0,programId:"",programName:"",dateRange:{start:"",end:""}});}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;}createClient(){this.router.navigateByUrl("/clients/form");}getClients(){this.isFetchingData.set(!0);let e=this.clientsService.getClientsBasic().subscribe(i=>{this.clients=i,this.dataSource.data=this.clients,console.log(this.dataSource.data),this.isFetchingData.set(!1);});this.subscriptions.add(e);}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage();}openEditClientDialog(e,i){this.clientInfo.set({clientId:e,clientName:i,programPosition:0,programId:"",programName:"",dateRange:{start:"",end:""}}),this.router.navigateByUrl(`clients/form/${e}`);}openDeleteConfirmationDialog(e){let i=this.dialog.open(Re,{width:"312px",data:{title:"Ausgew\xE4hlten Patienten l\xF6schen?",message:"Durch das L\xF6schen des ausgew\xE4hlten Patienten wird er aus Ihrem Konto entfernt."},panelClass:"custom-dialog"}),n=i.afterClosed().subscribe(a=>{a?(console.log("User confirmed deletion"),this.deleteClient(e),i.close()):(console.log("User canceled deletion"),i.close());});this.subscriptions.add(n);}deleteClient(e){let i=this.clientsService.deleteClient(e).subscribe({next:()=>{this.getClients(),this._snackBar.open("Patient gel\xF6scht","",{duration:2e3,panelClass:["custom-snackbar-style"]});},error:n=>console.error(n),complete:()=>console.info("Client deletion completed")});this.subscriptions.add(i);}ngOnDestroy(){this.subscriptions.unsubscribe();}static{this.ɵfac=function(i){return new(i||t)();};}static{this.ɵcmp=G({type:t,selectors:[["sanareapp-clients-list"]],viewQuery:function(i,n){if(i&1&&(x(A,5),x(N,5)),i&2){let a;w(a=O())&&(n.sort=a.first),w(a=O())&&(n.paginator=a.first);}},features:[H([{provide:Ce,useClass:re}])],decls:12,vars:6,consts:()=>{let e;e="z.B. Erika Mustermann";let i;i="Seite mit Patienten ausw\xE4hlen";let n;n="Filter";let a;a="Bearbeiten";let f;f="Symbolschaltfl\xE4che \u201EBearbeiten\u201C";let L;L="L\xF6schen";let v;v="Symbolschaltfl\xE4che \u201EL\xF6schen\u201C";let D;D="Bearbeiten";let $;$="L\xF6schen";let F;return F="Keine Daten, die dem Filter \""+"\uFFFD0\uFFFD"+"\" entsprechen",[["input",""],["menu","matMenu"],n,D,$,F,[3,"newEvent","pageTitle","pageType","newButton"],[1,"table-wrapper"],["appearance","fill",1,"rounded-filter-input"],["matInput","","placeholder",e,3,"keyup"],[1,"clients-table-container"],["overlay-scrollbars","",1,"clients-list-table","table-scroll-container",3,"options","defer"],[1,"fetchingDataSpinner"],["matSort","",1,"mat-table-background",3,"dataSource"],["pageSize","10","aria-label",i,1,"mat-paginator-background",3,"pageSizeOptions"],["diameter","50"],[4,"matHeaderRowDef"],["class","table-rows",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"matColumnDef"],["matColumnDef","options"],["mat-sort-header","",4,"matHeaderCellDef"],[1,"dynamic-cell"],["mat-sort-header",""],["class","dynamic-cell",4,"matCellDef"],[1,"mat-body-large"],[1,"mat-body-medium-secondary"],[4,"matCellDef"],[4,"matHeaderCellDef"],["class","client-options",4,"matCellDef"],[1,"client-options"],["mat-icon-button","","matTooltip",a,"aria-label",f,3,"click"],["mat-icon-button","","matTooltip",L,"aria-label",v,3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",2,"min-width","200px",3,"click"],["mat-menu-item","",3,"click"],[1,"table-rows"],[1,"mat-row"],["colspan","4",1,"mat-cell"]];},template:function(i,n){if(i&1){let a=M();o(0,"ui-page-toolbar",6),T("newEvent",function(){return S(a),u(n.createClient());}),_(),o(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),E(4,2),_(),o(5,"input",9,0),T("keyup",function(L){return S(a),u(n.applyFilter(L));}),_()(),o(7,"div",10)(8,"div",11),c(9,ze,2,0,"div",12)(10,ot,6,3,"mat-table",13),_(),c(11,lt,1,2,"mat-paginator",14),_()();}if(i&2){let a;d("pageTitle",n.pageTitle())("pageType",n.pageType)("newButton",!0),s(8),d("options",n.themeSignal()),s(),g(n.isFetchingData()?9:10),s(2),g((a=n.screenSize())!=null&&a.isCompact?-1:11);}},dependencies:[me,q,K,J,we,xe,be,ue,Te,Le,Pe,ge,Me,Ee,fe,he,Ne,Ae,Se,A,de,te,ee,ie,Y,W,pe,N,Fe,De,ve,$e,ye,Oe],styles:['.fetchingDataSpinner[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;left:4px;right:4px;top:4px;width:calc(100% - 20px);height:100%;border-top-left-radius:16px;border-top-right-radius:16px}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 234px);overflow-y:hidden}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .client-options[_ngcontent-%COMP%]{justify-content:end}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 290px);overflow-y:scroll}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{height:48px}@media (max-width: 599px){.table-wrapper[_ngcontent-%COMP%]{padding:16px;height:100%}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]{margin-top:-8px;height:calc(100vh - 228px)}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 228px);padding-bottom:84px}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{height:auto}}.dynamic-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:8px}.programs-table-skeleton[_ngcontent-%COMP%]{width:100%;height:440px;overflow:hidden}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:14px;height:48px;border-bottom-width:1px;border-bottom-style:solid}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:16px;min-width:193px;height:30px;overflow:hidden;position:relative;width:100%}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 1s infinite;content:""}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]:last-of-type{border-bottom:0}']});}}return t;})();export{Ft as ClientsListComponent};/**i18n:e33dda9241aa0d3f81605574177eca303a560132442e585b3107f4f1b4a47a86*/