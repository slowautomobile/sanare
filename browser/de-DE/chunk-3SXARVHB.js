import{a as ve}from"./chunk-U3G3OABD.js";import{$ as we,A as Ce,B as h,C as pe,D as de,E as Se,F as ue,G as ge,H as Te,I as Pe,J as Ee,K as Le,L as fe,M as Me,N as Ne,O as Ae,P as he,Q as be,R as Ie,S as xe,ga as Oe,ha as ye,i as ne,ia as Re,j as oe,ja as $e,n as le,q as ae,r as _e,s as re,t as se,u as ce,y as me,z as A}from"./chunk-GFQNWPHU.js";import"./chunk-2KRI6ZBU.js";import{B as Z,d as K,n as U,u as q,y as J}from"./chunk-EZNRQUAM.js";import"./chunk-IQUW5QUP.js";import"./chunk-FYGCA5T3.js";import{f as W,k as Y}from"./chunk-QABDRPPI.js";import{a as ee,b as te,c as ie}from"./chunk-CSA5XVMK.js";import{$b as R,Ab as l,Bb as _,Cb as E,Db as b,Eb as I,Gb as M,Kb as L,Lb as X,Mb as V,Ob as g,Pb as r,Ta as s,Ub as x,Vb as w,Wb as O,Zb as y,_b as c,ac as N,bb as G,e as F,fc as H,gb as m,gc as Q,la as p,rb as d,ta as S,ua as u,wb as P,wc as j,yb as z,zb as B}from"./chunk-MOGN5K2H.js";var De=()=>[5,10,25,100],ke=(e,a)=>a.key;function Fe(e,a){if(e&1&&(l(0,"mat-header-cell",21),c(1),_()),e&2){let t=r(2).$implicit;s(),N(" ",t.label,"");}}function Ge(e,a){if(e&1&&(l(0,"span",23),c(1),_(),l(2,"span",24),c(3),_()),e&2){let t=r().$implicit;s(),R(t.name),s(2),R(t.email);}}function ze(e,a){if(e&1&&c(0),e&2){let t=r().$implicit;N(" ",t.name," ");}}function Be(e,a){if(e&1&&(l(0,"mat-cell",20),m(1,Ge,4,2)(2,ze,1,1),_()),e&2){let t,i=r(4);s(),P((t=i.screenSize())!=null&&t.isCompact?1:2);}}function Xe(e,a){e&1&&m(0,Be,3,1,"mat-cell",22);}function Ve(e,a){if(e&1&&(l(0,"mat-cell"),c(1),_()),e&2){let t=a.$implicit,i=r(3).$implicit;s(),N(" ",t[i.key]," ");}}function He(e,a){e&1&&m(0,Ve,2,1,"mat-cell",25);}function Qe(e,a){if(e&1&&(b(0,17),m(1,Fe,2,1,"mat-header-cell",19)(2,Xe,1,0,"mat-cell",20)(3,He,1,0,"mat-cell"),I()),e&2){let t,i=r().$implicit,n=r();d("matColumnDef",i.key),s(2),P((t=n.screenSize())!=null&&t.isCompact?2:3);}}function je(e,a){e&1&&E(0,"mat-header-cell");}function Ke(e,a){if(e&1){let t=M();l(0,"div")(1,"button",29),g("click",function(){S(t);let n=r().$implicit,o=r(3);return u(o.openEditClientDialog(n.id,n.name));}),l(2,"mat-icon"),c(3,"edit"),_()(),l(4,"button",30),g("click",function(){S(t);let n=r().$implicit,o=r(3);return u(o.openDeleteConfirmationDialog(n.id));}),l(5,"mat-icon"),c(6,"delete_outline"),_()()();}}function Ue(e,a){if(e&1){let t=M();l(0,"button",31)(1,"mat-icon"),c(2,"more_vert"),_()(),l(3,"mat-menu",null,1)(5,"button",32),g("click",function(){S(t);let n=r().$implicit,o=r(3);return u(o.openEditClientDialog(n.id,n.name));}),l(6,"mat-icon"),c(7,"edit"),_(),l(8,"span"),L(9,3),_()(),l(10,"button",33),g("click",function(){S(t);let n=r().$implicit,o=r(3);return u(o.openDeleteConfirmationDialog(n.id));}),l(11,"mat-icon"),c(12,"delete_outline"),_(),l(13,"span"),L(14,4),_()()();}if(e&2){let t=y(4);d("matMenuTriggerFor",t);}}function qe(e,a){if(e&1&&(l(0,"mat-cell",28),m(1,Ke,7,0,"div")(2,Ue,15,1),_()),e&2){let t,i=r(3);s(),P((t=i.screenSize())!=null&&t.isCompact?2:1);}}function Je(e,a){e&1&&(b(0,18),m(1,je,1,0,"mat-header-cell",26)(2,qe,3,1,"mat-cell",27),I());}function We(e,a){if(e&1&&m(0,Qe,4,2,"ng-container",17)(1,Je,3,0,"ng-container",18),e&2){let t=a.$implicit;P(t.key!=="options"?0:1);}}function Ye(e,a){e&1&&E(0,"mat-header-row");}function Ze(e,a){e&1&&E(0,"mat-row",34);}function et(e,a){if(e&1&&(l(0,"mat-row",35)(1,"td",36),L(2,5),_()()),e&2){r();let t=y(6);s(2),X(t.value),V(2);}}function tt(e,a){e&1&&E(0,"mat-paginator",16),e&2&&d("pageSizeOptions",Q(1,De));}var yt=(()=>{class e{constructor(){this.pageType="client",this.clientsService=p(ne),this._snackBar=p(Z),this.dialog=p(le),this.router=p(K),this.ActivePageService=p(re),this.screenSizeService=p(se),this.screenSize=this.screenSizeService.screenSize,this.pageTitle=this.ActivePageService.pageTitle,this.columnName=" Name ",this.columnEmail="E-Mail",this.columnPhone=" Telefon ",this.displayedColumns=[{key:"name",label:this.columnName},{key:"email",label:this.columnEmail},{key:"phone",label:this.columnPhone},{key:"options",label:""}],this.columnKeys=j(()=>this.screenSize()?.isCompact?this.displayedColumns.filter(t=>t.key!=="phone"&&t.key!=="email").map(t=>t.key):this.displayedColumns.map(t=>t.key)),this.dataSource=new be(),this.clients=[],this.subscriptions=new F(),this.shareClientsDataService=p(oe),this.clientInfo=this.shareClientsDataService.clientInfo,this.themeManager=p(ae),this.themeSignal=this.themeManager.themeSignal,console.log(this.screenSize()?.isCompact),this.getClients();}ngOnInit(){this.pageTitle.set("Patienten"),this.clientInfo.set({clientId:"",clientName:"",programPosition:0,programId:"",programName:"",dateRange:{start:"",end:""}});}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort;}createClient(){this.router.navigateByUrl("/clients/form");}getClients(){let t=this.clientsService.getClientsBasic().subscribe(i=>{this.clients=i,this.dataSource.data=this.clients,console.log(this.dataSource.data);});this.subscriptions.add(t);}applyFilter(t){let i=t.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage();}openEditClientDialog(t,i){let o=this.dialog.open(ve,{width:"500px",data:{title:"Patient bearbeiten",clientId:t,clientName:i},panelClass:["custom-dialog","custom-client-dialog-content-wrapper"]}).afterClosed().subscribe(T=>{T?this.getClients():console.log("Client modal exited");});this.subscriptions.add(o);}openDeleteConfirmationDialog(t){let i=this.dialog.open(we,{width:"312px",data:{title:"Ausgew\xE4hlten Patienten l\xF6schen?",message:"Durch das L\xF6schen des ausgew\xE4hlten Patienten wird er aus Ihrem Konto entfernt."},panelClass:"custom-dialog"}),n=i.afterClosed().subscribe(o=>{o?(console.log("User confirmed deletion"),this.deleteClient(t),i.close()):(console.log("User canceled deletion"),i.close());});this.subscriptions.add(n);}deleteClient(t){let i=this.clientsService.deleteClient(t).subscribe({next:()=>{this.getClients(),this._snackBar.open("Patient gel\xF6scht","",{duration:2e3,panelClass:["custom-snackbar-style"]});},error:n=>console.error(n),complete:()=>console.info("Client deletion completed")});this.subscriptions.add(i);}ngOnDestroy(){this.subscriptions.unsubscribe();}static{this.ɵfac=function(i){return new(i||e)();};}static{this.ɵcmp=G({type:e,selectors:[["sanareapp-clients-list"]],viewQuery:function(i,n){if(i&1&&(x(h,5),x(A,5)),i&2){let o;w(o=O())&&(n.sort=o.first),w(o=O())&&(n.paginator=o.first);}},features:[H([{provide:me,useClass:_e}])],decls:16,vars:8,consts:()=>{let t;t="z.B. Erika Mustermann";let i;i="Seite mit Patienten ausw\xE4hlen";let n;n="Filter";let o;o="Bearbeiten";let T;T="Symbolschaltfl\xE4che \u201EBearbeiten\u201C";let f;f="L\xF6schen";let $;$="Symbolschaltfl\xE4che \u201EL\xF6schen\u201C";let v;v="Bearbeiten";let D;D="L\xF6schen";let k;return k="Keine Daten, die dem Filter \""+"\uFFFD0\uFFFD"+"\" entsprechen",[["input",""],["menu","matMenu"],n,v,D,k,[3,"newEvent","pageTitle","pageType","newButton"],[1,"table-wrapper"],["appearance","fill",1,"rounded-filter-input"],["matInput","","placeholder",t,3,"keyup"],[1,"clients-table-container"],["overlay-scrollbars","",1,"clients-list-table","table-scroll-container",3,"options","defer"],["matSort","",1,"mat-table-background",3,"dataSource"],[4,"matHeaderRowDef"],["class","table-rows",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","10","aria-label",i,1,"mat-paginator-background",3,"pageSizeOptions"],[3,"matColumnDef"],["matColumnDef","options"],["mat-sort-header","",4,"matHeaderCellDef"],[1,"dynamic-cell"],["mat-sort-header",""],["class","dynamic-cell",4,"matCellDef"],[1,"mat-body-large"],[1,"mat-body-medium-secondary"],[4,"matCellDef"],[4,"matHeaderCellDef"],["class","client-options",4,"matCellDef"],[1,"client-options"],["mat-icon-button","","matTooltip",o,"aria-label",T,3,"click"],["mat-icon-button","","matTooltip",f,"aria-label",$,3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",2,"min-width","200px",3,"click"],["mat-menu-item","",3,"click"],[1,"table-rows"],[1,"mat-row"],["colspan","4",1,"mat-cell"]];},template:function(i,n){if(i&1){let o=M();l(0,"ui-page-toolbar",6),g("newEvent",function(){return S(o),u(n.createClient());}),_(),l(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),L(4,2),_(),l(5,"input",9,0),g("keyup",function(f){return S(o),u(n.applyFilter(f));}),_()(),l(7,"div",10)(8,"div",11)(9,"mat-table",12),z(10,We,2,1,null,null,ke),m(12,Ye,1,0,"mat-header-row",13)(13,Ze,1,0,"mat-row",14)(14,et,3,1,"mat-row",15),_()(),m(15,tt,1,2,"mat-paginator",16),_()();}if(i&2){let o;d("pageTitle",n.pageTitle())("pageType",n.pageType)("newButton",!0),s(8),d("options",n.themeSignal()),s(),d("dataSource",n.dataSource),s(),B(n.displayedColumns),s(2),d("matHeaderRowDef",n.columnKeys()),s(),d("matRowDefColumns",n.columnKeys()),s(2),P((o=n.screenSize())!=null&&o.isCompact?-1:15);}},dependencies:[ce,q,U,J,xe,Ie,he,Se,ge,Le,Te,ue,fe,Pe,Ee,Me,Ne,Ae,de,h,pe,te,ee,ie,Y,W,Ce,A,$e,ye,Oe,Re],styles:['.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 234px);overflow-y:hidden}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .client-options[_ngcontent-%COMP%]{justify-content:end}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 290px);overflow-y:scroll}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{height:48px}@media (max-width: 599px){.table-wrapper[_ngcontent-%COMP%]{padding:16px;height:100%}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]{margin-top:-8px;height:calc(100vh - 228px)}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 228px);padding-bottom:84px}.table-wrapper[_ngcontent-%COMP%]   .clients-table-container[_ngcontent-%COMP%]   .table-scroll-container[_ngcontent-%COMP%]   .table-rows[_ngcontent-%COMP%]{height:auto}}.dynamic-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:8px}.programs-table-skeleton[_ngcontent-%COMP%]{width:100%;height:440px;overflow:hidden}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:14px;height:48px;border-bottom-width:1px;border-bottom-style:solid}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-radius:16px;min-width:193px;height:30px;overflow:hidden;position:relative;width:100%}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 1s infinite;content:""}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}.programs-table-skeleton[_ngcontent-%COMP%]   .row-skeleton[_ngcontent-%COMP%]:last-of-type{border-bottom:0}']});}}return e;})();export{yt as ClientsListComponent};/**i18n:e9421f27e91e2550a5a0bd03ad694673877e5a8020798e378092da15c61db7f3*/