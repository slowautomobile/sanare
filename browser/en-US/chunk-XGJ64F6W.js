import{T as q,U as V,V as j,W as H,X as J,Y as K,Z as Q,b as G,h as k,na as W,o as D,r as B,ta as Y,x as z}from"./chunk-S2XPJ3VZ.js";import{j as U}from"./chunk-CVGU5HRQ.js";import"./chunk-2YLEHCOH.js";import"./chunk-LE23UJO4.js";import"./chunk-4VBJMM6S.js";import"./chunk-DUASGZV7.js";import"./chunk-K24FWMMJ.js";import{Cb as b,Ka as N,Na as X,Nb as C,Sb as F,Tb as S,Ub as g,Vb as P,Wb as t,Xb as i,Yb as x,a as h,ac as y,b as I,e as T,ec as l,ic as L,jc as c,lb as r,na as p,nd as $,uc as E,vc as d,wa as A,xa as f,xb as O,ye as w}from"./chunk-364YMQ47.js";function Z(n,s){n&1&&(x(0,"div",8),t(1,"div",9),x(2,"div",10),i());}function ee(n,s){if(n&1&&(t(0,"mat-chip",21),E(1),i()),n&2){let e=s.$implicit;r(),d(e);}}function te(n,s){if(n&1&&(t(0,"mat-chip",21),E(1),i()),n&2){let e=s.$implicit,o=c(2);r(),d(e.translations==null?null:e.translations[o.selectedLanguage]);}}function ie(n,s){if(n&1&&(t(0,"mat-chip",21),E(1),i()),n&2){let e=s.$implicit,o=c(2);r(),d(e.translations==null?null:e.translations[o.selectedLanguage]);}}function ne(n,s){if(n&1&&(t(0,"mat-chip",21),E(1),i()),n&2){let e=s.$implicit,o=c(2);r(),d(e.translations==null?null:e.translations[o.selectedLanguage]);}}function oe(n,s){if(n&1&&(t(0,"mat-chip",21),E(1),i()),n&2){let e=s.$implicit,o=c(2);r(),d(e.translations[o.selectedLanguage]);}}function re(n,s){if(n&1){let e=y();t(0,"ui-page-toolbar",11),L("cancelEvent",function(){A(e);let a=c();return f(a.onBack());}),i(),t(1,"div",12)(2,"div",13),x(3,"ui-video-player",14),i(),t(4,"div",15)(5,"div",16)(6,"div",17)(7,"div",18)(8,"span",19),l(9,0),i(),t(10,"span",20),E(11),i()(),t(12,"div",18)(13,"span",19),l(14,1),i(),t(15,"span",20),E(16),i()(),t(17,"div",18)(18,"span",19),l(19,2),i(),t(20,"mat-chip-set"),g(21,ee,2,1,"mat-chip",21,S),i()(),t(23,"div",18)(24,"span",19),l(25,3),i(),t(26,"mat-chip-set"),g(27,te,2,1,"mat-chip",21,S),i()(),t(29,"div",18)(30,"span",19),l(31,4),i(),t(32,"mat-chip-set"),g(33,ie,2,1,"mat-chip",21,S),i()(),t(35,"div",18)(36,"span",19),l(37,5),i(),t(38,"mat-chip-set"),g(39,ne,2,1,"mat-chip",21,S),i()(),t(41,"div",18)(42,"span",19),l(43,6),i(),t(44,"mat-chip-set"),g(45,oe,2,1,"mat-chip",21,S),i()()(),t(47,"div",22)(48,"span",19),l(49,7),i(),t(50,"ui-basic-programs-table",23),L("viewProgramEvent",function(a){A(e);let _=c();return f(_.viewProgramModal(a));}),i()()()()();}if(n&2){let e=c();C("pageType","exercise")("editMode",!0),r(3),C("videoSrc",e.exercise.video)("thumbnail",e.exercise.images==null?null:e.exercise.images.mainImg)("isModal",!0),r(),C("options",e.themeSignal()),r(7),d(e.exercise.name[e.selectedLanguage]),r(5),d(e.exercise.description[e.selectedLanguage]),r(5),P(e.exercise.muscles),r(6),P(e.exercise.bodyAreas),r(6),P(e.exercise.movements),r(6),P(e.exercise.startingPositions),r(6),P(e.exercise.equipments),r(5),C("dataSource",e.dataSourceAllPrograms)("isClient",!1);}}var ve=(()=>{class n{constructor(){this.location=p($),this.exercisesService=p(G),this.localstorageService=p(U),this.themeManager=p(B),this.programsService=p(k),this.dialog=p(D),this.exerciseId=N(""),this.selectedLanguage="en",this.themeSignal=this.themeManager.themeSignal,this.dataSourceAllPrograms=new q(),this.subscriptions=new T(),this.isLoading=X(!0);}ngOnInit(){this.selectedLanguage=this._getUserLanguageToken();let e=this.exercisesService.getExercise(this.exerciseId()).subscribe(o=>{this.exercise=o;let a=o?.programs?.map(_=>I(h({},_),{name:_.name?.[this.selectedLanguage]||"N/A"}));this.dataSourceAllPrograms.data=a,this.isLoading.set(!1);});this.subscriptions.add(e);}_getUserLanguageToken(){return this.localstorageService.getToken("userLanguage")?.split("-")[0];}viewProgramModal(e){let o=this.programsService.getProgram(e,this.selectedLanguage).subscribe(a=>{let u=this.dialog.open(W,{width:"500px",data:{title:"Program info",program:a,selectedLang:this.selectedLanguage,isClient:!1},panelClass:"custom-dialog"}).afterClosed().subscribe(M=>{console.log("Program modal exited");});this.subscriptions.add(u);});this.subscriptions.add(o);}onBack(){this.location.back();}ngOnDestroy(){this.subscriptions.unsubscribe();}static{this.ɵfac=function(o){return new(o||n)();};}static{this.ɵcmp=O({type:n,selectors:[["full-exercise"]],inputs:{exerciseId:[1,"exerciseId"]},decls:2,vars:1,consts:()=>{let e;e="Exercise name: ";let o;o="Description: ";let a;a="Muscles: ";let _;_="Body areas: ";let u;u="Movements: ";let M;M="Starting positions: ";let R;R="Equipment: ";let v;return v="Programs: ",[e,o,a,_,u,M,R,v,[1,"page-toolbar-placeholder"],[1,"video-skeleton-wrapper"],[1,"video-skeleton"],[3,"cancelEvent","pageType","editMode"],[1,"content-container"],[1,"exercise-video-wrapper"],[3,"videoSrc","thumbnail","isModal"],["overlay-scrollbars","",1,"exercise-info-wrapper",3,"options","defer"],[1,"info-flex-container"],[1,"dialog-content-wrapper"],[1,"category-labels"],[1,"label"],[1,"category-value"],[1,"chips-category"],[1,"programs-wrapper"],[1,"ui-programs-table",3,"viewProgramEvent","dataSource","isClient"]];},template:function(o,a){if(o&1&&b(0,Z,3,0)(1,re,51,10),o&2){let _;F((_=a.isLoading())?0:1,_);}},dependencies:[w,z,Q,J,K,Y,j,V,H],styles:['.page-toolbar-placeholder[_ngcontent-%COMP%]{height:40px;width:100%;margin-bottom:16px;position:relative;border-radius:16px;overflow:hidden}.page-toolbar-placeholder[_ngcontent-%COMP%]:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 1s infinite;content:""}.content-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;gap:16px}.content-container[_ngcontent-%COMP%]   .exercise-video-wrapper[_ngcontent-%COMP%]{flex:1 1 0;height:100%;border-radius:16px}.content-container[_ngcontent-%COMP%]   .exercise-info-wrapper[_ngcontent-%COMP%]{flex:2 1 0;height:calc(100vh - 166px);overflow:hidden;min-width:0}.content-container[_ngcontent-%COMP%]   .exercise-info-wrapper[_ngcontent-%COMP%]   .info-flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.content-container[_ngcontent-%COMP%]   .exercise-info-wrapper[_ngcontent-%COMP%]   .info-flex-container[_ngcontent-%COMP%]   .dialog-content-wrapper[_ngcontent-%COMP%], .content-container[_ngcontent-%COMP%]   .exercise-info-wrapper[_ngcontent-%COMP%]   .info-flex-container[_ngcontent-%COMP%]   .programs-wrapper[_ngcontent-%COMP%]{border-radius:16px;padding:16px}.video-skeleton-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow:hidden;border-radius:16px}.video-skeleton-wrapper[_ngcontent-%COMP%]   .video-skeleton[_ngcontent-%COMP%]{position:relative;aspect-ratio:1/1;border-radius:16px;overflow:hidden}.video-skeleton-wrapper[_ngcontent-%COMP%]   .video-skeleton[_ngcontent-%COMP%]:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 1s infinite;content:""}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}'],changeDetection:0});}}return n;})();export{ve as FullExerciseComponent};/**i18n:ab11a1dcb816b11965daf92ebc4252f70aaa11f3a07066be31c4bdd61d35557d*/